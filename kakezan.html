<!DOCTYPE html>
<html>
Â  <head>
Â  Â  <meta charset="utf-8" />
Â  Â  <title>è¨ˆç®—ã‚¯ã‚¤ã‚º</title>
Â  Â  <style>
Â  Â  Â  body {
Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  font-size:20px;
Â  Â  Â  }
Â  Â  Â  .hidden {
Â  Â  Â  Â  display: none;
Â  Â  Â  }
Â  Â  Â  input[type="button"]{
Â  Â  Â  Â  background-color:#000FFF;
Â  Â  Â  Â  color:#FFFFFF;
Â  Â  Â  Â  width:150px;
Â  Â  Â  Â  height:30px;
Â  Â  Â  Â  border-radius:10px;
Â  Â  Â  Â  border:none;
Â  Â  Â  Â  margin:5px;
Â  Â  Â  }
Â  Â  Â  input[type="number"]{
Â  Â  Â  Â  background-color:#FFFFFF;
Â  Â  Â  Â  color:#000000;
Â  Â  Â  Â  width:150px;
Â  Â  Â  Â  height:30px;
Â  Â  Â  Â  border-radius:10px;
Â  Â  Â  Â  margin:5px;
Â  Â  Â  }
Â  Â  Â  .hint-line {
Â  Â  Â  Â  white-space: pre-wrap; /* æ”¹è¡Œã‚’æœ‰åŠ¹ã«ã™ã‚‹ */
Â  Â  Â  }
Â  Â  </style>
Â  </head>
Â  <body>
Â  Â  <h1>è¨ˆç®—ã‚¯ã‚¤ã‚º</h1>
Â  Â  <br />
Â  Â  <p id="instruction">ã©ã‚Œã‹é¸ã‚“ã§ã­</p>

Â  Â  <div id="quiz-menu">
Â  Â  Â  <input type="button" onclick="startQuiz('plus')" value="ãŸã—ã–ã‚“">
Â  Â  Â  <input type="button" onclick="startQuiz('minus')" value="ã²ãã–ã‚“">
Â  Â  Â  <br>
Â  Â  Â  <input type="button" onclick="startQuiz('times')" value="ã‹ã‘ã–ã‚“">
Â  Â  Â  <input type="button" onclick="startQuiz('divide')" value="ã‚ã‚Šã–ã‚“">
Â  Â  </div>

Â  Â  <div id="quiz-container"></div>

Â  Â  <script>
Â  Â  Â  let currentAnswer = 0;
Â  Â  Â  let currentQuestionNumber = 0;
Â  Â  Â  let quizType = '';

Â  Â  Â  const quizMenu = document.getElementById('quiz-menu');
Â  Â  Â  const quizContainer = document.getElementById('quiz-container');
Â  Â  Â  const instruction = document.getElementById('instruction');

Â  Â  Â  function startQuiz(type) {
Â  Â  Â  Â  quizType = type;

Â  Â  Â  Â  instruction.classList.add('hidden');
Â  Â  Â  Â  quizMenu.classList.add('hidden');
Â  Â  Â  Â  currentQuestionNumber = 0;

Â  Â  Â  Â  if (type === 'times') {
Â  Â  Â  Â  Â  showTimesMenu();
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  generateQuestion();
Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  function showTimesMenu() {
Â  Â  Â  Â  let buttons = '';
Â  Â  Â  Â  for (let i = 1; i <= 9; i++) {
Â  Â  Â  Â  Â  buttons += `<input type="button" onclick="startTimesQuiz(${i})" value="${i}ã®æ®µ">`;
Â  Â  Â  Â  }
Â  Â  Â  Â  buttons += `<br><input type="button" onclick="startTimesQuiz('random')" value="ãƒ©ãƒ³ãƒ€ãƒ ãªã‹ã‘ã–ã‚“">`;
Â  Â  Â  Â  buttons += `<br><input type="button" onclick="resetQuiz()" value="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹">`;
Â  Â  Â  Â  
Â  Â  Â  Â  quizContainer.innerHTML = `<p>æ®µã‚’é¸ã‚“ã§ã­</p>${buttons}`;
Â  Â  Â  }

Â  Â  Â  function startTimesQuiz(dan) {
Â  Â  Â  Â  quizType = `times_${dan}`;
Â  Â  Â  Â  generateQuestion();
Â  Â  Â  }

Â  Â  Â  function generateQuestion() {
Â  Â  Â  Â  let num1, num2, questionText;
Â  Â  Â  Â  currentQuestionNumber++;
Â  Â  Â  Â  let hintText = ''; // è¿½åŠ : ãƒ’ãƒ³ãƒˆç”¨ã®å¤‰æ•°ã‚’åˆæœŸåŒ–

Â  Â  Â  Â  if (quizType === 'plus') {
Â  Â  Â  Â  Â  num1 = Math.floor(Math.random() * 100);
Â  Â  Â  Â  Â  num2 = Math.floor(Math.random() * 100);
Â  Â  Â  Â  Â  questionText = `${num1} + ${num2} = ?`;
Â  Â  Â  Â  Â  currentAnswer = num1 + num2;
Â  Â  Â  Â  } else if (quizType === 'minus') {
Â  Â  Â  Â  Â  num1 = Math.floor(Math.random() * 100);
Â  Â  Â  Â  Â  num2 = Math.floor(Math.random() * 100);
Â  Â  Â  Â  Â  if (num1 < num2) {
Â  Â  Â  Â  Â  Â  [num1, num2] = [num2, num1];
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  questionText = `${num1} - ${num2} = ?`;
Â  Â  Â  Â  Â  currentAnswer = num1 - num2;
Â  Â  Â  Â  } else if (quizType.startsWith('times_')) {
Â  Â  Â  Â  Â  const dan = quizType.split('_')[1];
Â  Â  Â  Â  Â  if (dan === 'random') {
Â  Â  Â  Â  Â  Â  num1 = Math.floor(Math.random() * 9) + 1;
Â  Â  Â  Â  Â  Â  num2 = Math.floor(Math.random() * 9) + 1;
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  num1 = parseInt(dan);
Â  Â  Â  Â  Â  Â  num2 = Math.floor(Math.random() * 9) + 1;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  questionText = `${num1} Ã— ${num2} = ?`;
Â  Â  Â  Â  Â  currentAnswer = num1 * num2;
Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  // è¿½åŠ : æ›ã‘ç®—ã®ãƒ’ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯
Â  Â  Â  Â  Â  let apples = 'ğŸ ';
Â  Â  Â  Â  Â  let hintLine = '';
Â  Â  Â  Â  Â  for (let i = 0; i < num1; i++) {
Â  Â  Â  Â  Â  Â  hintLine += apples.repeat(num2);
Â  Â  Â  Â  Â  Â  hintLine += '<br>';
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  hintText = `<div class="hint-line"><br>${hintLine}</div>`;
Â  Â  Â  Â  Â  
Â  Â  Â  Â  } else if (quizType === 'divide') {
Â  Â  Â  Â  Â  num2 = Math.floor(Math.random() * 10) + 1;
Â  Â  Â  Â  Â  let tempResult = Math.floor(Math.random() * 10) + 1;
Â  Â  Â  Â  Â  num1 = num2 * tempResult;
Â  Â  Â  Â  Â  questionText = `${num1} Ã· ${num2} = ?`;
Â  Â  Â  Â  Â  currentAnswer = tempResult;
Â  Â  Â  Â  }

Â  Â  Â  Â  quizContainer.innerHTML = `
Â  Â  Â  Â  Â  <p>${currentQuestionNumber}å•ç›®</p>
Â  Â  Â  Â  Â  <p>${questionText}</p>
Â  Â  Â  Â  Â  ${hintText} Â  Â  Â  Â  Â  <input type="number" id="user-answer">
Â  Â  Â  Â  Â  <br>
Â  Â  Â  Â  Â  <input type="button" onclick="checkAnswer()" value="ã“ãŸãˆã‚‹">
Â  Â  Â  Â  Â  <p id="result"></p>
Â  Â  Â  Â  `;
Â  Â  Â  }

Â  Â  Â  function checkAnswer() {
Â  Â  Â  Â  const userAnswer = document.getElementById('user-answer').value;
Â  Â  Â  Â  const resultParagraph = document.getElementById('result');

Â  Â  Â  Â  if (parseInt(userAnswer, 10) === currentAnswer) {
Â  Â  Â  Â  Â  resultParagraph.innerText = 'ã›ã„ã‹ã„ï¼';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  resultParagraph.innerText = `ã–ã‚“ã­ã‚“ï¼ã›ã„ã‹ã„ã¯ ${currentAnswer} ã§ã™ã€‚`;
Â  Â  Â  Â  }

Â  Â  Â  Â  resultParagraph.innerHTML += `
Â  Â  Â  Â  Â  <br>
Â  Â  Â  Â  Â  <input type="button" onclick="generateQuestion()" value="æ¬¡ã®å•é¡Œã¸">
Â  Â  Â  Â  Â  <input type="button" onclick="resetQuiz()" value="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹">
Â  Â  Â  Â  `;
Â  Â  Â  }

Â  Â  Â  function resetQuiz() {
Â  Â  Â  Â  currentQuestionNumber = 0;
Â  Â  Â  Â  quizContainer.innerHTML = '';
Â  Â  Â  Â  quizMenu.classList.remove('hidden');
Â  Â  Â  Â  instruction.classList.remove('hidden');
Â  Â  Â  }
Â  Â  </script>
Â  </body>
</html>
